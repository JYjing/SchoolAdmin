{"remainingRequest":"C:\\xampp\\htdocs\\SchoolAdmin\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\SchoolAdmin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\SchoolAdmin\\src\\views\\AdminGroup.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\SchoolAdmin\\src\\views\\AdminGroup.vue","mtime":1534239555500},{"path":"C:\\xampp\\htdocs\\SchoolAdmin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1532399270981},{"path":"C:\\xampp\\htdocs\\SchoolAdmin\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"C:\\xampp\\htdocs\\SchoolAdmin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport \"../assets/css/AdminGroup.css\";\nimport \"../assets/css/bootstrap.css\";\nimport \"../apiFilter/myFilter.js\";\nexport default {\n  data: function data() {\n    return {\n      gropkey: null,\n      gropName: null,\n      graName: null,\n      claName: null,\n      group: null,\n      cName: null,\n      index: 0,\n      pageCount: 10,\n      //数据大小\n      pno: null,\n      //数据页码\n      count: null,\n      //总页数\n      stu: null\n    };\n  },\n  methods: {\n    changeId: function changeId(i) {\n      this.index = i;\n    },\n    kickOutGroup: function kickOutGroup() {\n      var uid = this.index;\n      var gid = $(\"#stuGroup option:selected\").data(\"gid\");\n      var arr = {\n        gid: gid,\n        uid: uid,\n        how: \"kickOutGroup\",\n        do: \"UpdateStudent\"\n      };\n      console.log(arr);\n      var url = \"http://176.128.18.86/SchoolOnline/\";\n      var urlback = \"Php/admin.php\";\n      $.ajax({\n        type: \"post\",\n        url: url + urlback,\n        data: arr,\n        dataType: \"json\" // async:false\n\n      }).then(function (result) {\n        // console.log(result);\n        if (result[\"talk\"] == \"Ok\") {\n          alert(\"已踢出该学生\");\n          $('#kickStu').modal('hide');\n          window.location.reload();\n        } else {\n          alert(\"该学生已不在本小组\");\n        }\n      });\n    },\n    deleGroup: function deleGroup() {\n      var gid = $(\"#stuGroup option:selected\").data(\"gid\");\n      console.log(gid);\n      var url = \"http://176.128.18.86/SchoolOnline/\";\n      var urlback = \"Php/admin.php\";\n      var arr = {\n        gid: gid,\n        how: \"deleteGroup\",\n        do: \"UpdateStudent\"\n      };\n      $.ajax({\n        type: \"post\",\n        url: url + urlback,\n        data: arr,\n        dataType: \"json\" // async:false\n\n      }).then(function (result) {\n        // console.log(result);\n        if (result[\"talk\"] == \"Ok\") {\n          alert(\"已成功删除本小组\");\n          $('#deleGroup').modal('hide');\n          window.location.reload();\n        } else {\n          alert(\"不存在小组\");\n        }\n      });\n    },\n    CheckGroupPwd: function CheckGroupPwd() {\n      var _this = this;\n\n      var gid = $(\"#stuGroup option:selected\").data(\"gid\");\n      console.log(gid);\n      var url = \"http://176.128.18.86/SchoolOnline/\";\n      var urlback = \"Php/admin.php\";\n      var arr = {\n        gid: gid,\n        do: \"ShowGroupKey\"\n      };\n      $.ajax({\n        type: \"post\",\n        url: url + urlback,\n        data: arr,\n        dataType: \"json\" // async:false\n\n      }).then(function (result) {\n        console.log(result);\n        _this.gropkey = result[\"group\"][\"groupkey\"];\n        console.log(_this.gropkey);\n        _this.gropName = result[\"group\"][\"name\"];\n        console.log(_this.gropName);\n      });\n    },\n    groupChange: function groupChange() {\n      var _this2 = this;\n\n      var claName = \"\";\n\n      if ($(\"#stuClass option:selected\").length > 0) {\n        claName = $(\"#stuClass option:selected\")[0].value;\n      }\n\n      var cid = sessionStorage.getItem('cid');\n      var uid = sessionStorage.getItem('uid');\n      var level = sessionStorage.getItem('lve');\n      var pageCount = this.pageCount;\n      var arr = {\n        showGroup: \"Y\",\n        updateGroup: \"Y\",\n        claName: claName,\n        uid: uid,\n        level: level,\n        cid: cid,\n        pageCount: pageCount,\n        do: \"ShowStudent\"\n      };\n      console.log(\"我发送：\");\n      console.log(arr);\n      var url = \"http://176.128.18.86/SchoolOnline/\";\n      var urlback = \"Php/admin.php\";\n      $.ajax({\n        type: \"post\",\n        url: url + urlback,\n        data: arr,\n        dataType: \"json\" // async:false\n\n      }).then(function (result) {\n        console.log(\"我接收：\");\n        console.log(result);\n\n        if (result[\"talk\"] == \"NotGroup\") {\n          alert(\"没有相关数据\");\n          _this2.group = \"\";\n        } else {\n          _this2.group = result[\"group\"]; // console.log(this.count);\n        }\n      });\n    },\n    LoadGroup: function LoadGroup(pno) {\n      var _this3 = this;\n\n      var claName = \"\";\n\n      if ($(\"#stuClass option:selected\").length > 0) {\n        claName = $(\"#stuClass option:selected\")[0].value;\n      }\n\n      var stuGroup = \"\";\n\n      if ($(\"#stuGroup option:selected\").length > 0) {\n        stuGroup = $(\"#stuGroup option:selected\")[0].value;\n      }\n\n      var cid = sessionStorage.getItem('cid');\n      var uid = sessionStorage.getItem('uid');\n      var level = sessionStorage.getItem('lve');\n      var pageCount = this.pageCount;\n      var arr = {\n        showGroup: \"Y\",\n        claName: claName,\n        stuGroup: stuGroup,\n        uid: uid,\n        level: level,\n        cid: cid,\n        pageCount: pageCount,\n        pno: pno,\n        do: \"ShowStudent\"\n      };\n      console.log(\"我发送：\");\n      console.log(arr);\n      var url = \"http://176.128.18.86/SchoolOnline/\";\n      var urlback = \"Php/admin.php\";\n      $.ajax({\n        type: \"post\",\n        url: url + urlback,\n        data: arr,\n        dataType: \"json\",\n        async: false\n      }).then(function (result) {\n        console.log(\"我接收：\");\n        console.log(result);\n\n        if (result[\"talk\"] == \"NotGroup\") {\n          alert(\"没有相关数据\");\n        } else {\n          _this3.stu = result[\"student\"];\n          _this3.count = Math.ceil(result[\"howNum\"]);\n          console.log(_this3.count);\n          _this3.pno = parseInt(result[\"pno\"]);\n          console.log(_this3.pno);\n          _this3.cName = result[\"class\"];\n          _this3.group = result[\"group\"];\n          _this3.claName = result[\"classOne\"];\n          _this3.graName = result[\"groupOne\"]; // console.log(this.count);\n        }\n      });\n    }\n  },\n  beforeMount: function beforeMount() {\n    this.LoadGroup(1);\n  }\n};",{"version":3,"sources":["AdminGroup.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"disban-main\">\r\n        <div class=\"d-main\">\r\n           <div class=\"dmain-flex\">\r\n                <label for=\"stuClass\">班级</label>\r\n                <select @change=\"groupChange()\" id=\"stuClass\">\r\n                    <option  v-for=\"(item, index) in cName\" :key=\"index\" :value=\"item.name\">{{item.name}}</option>\r\n                </select>\r\n                <label for=\"stuGroup\">小组</label>\r\n                <select  id=\"stuGroup\">\r\n                    <option v-for=\"(item, index) in group\" :data-gid=\"item.gid\" :key=\"index\" :value=\"item.name\">{{item.name}}</option>\r\n                </select>\r\n                <button class=\"btn btn-info\" @click.prevent=\"LoadGroup(1)\" >查看小组成员</button>\r\n                <button class=\"btn btn-info\" @click.prevent=\"CheckGroupPwd()\" data-toggle=\"modal\" data-target=\"#seeGrouppwd\">查看小组密匙</button>\r\n                <button class=\"btn btn-danger\" data-toggle=\"modal\" data-target=\"#deleGroup\">删除小组</button>\r\n           </div>\r\n            <hr>\r\n            <table class=\"table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>编号</th>\r\n                        <th>姓名</th>\r\n                        <th>班级</th>\r\n                        <th>小组</th>\r\n                        <th>等级</th>\r\n                        <th>操作</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                     <tr v-show=\"!stu\">\r\n                        <td><img src=\"../assets/images/loading.gif\" alt=\"\"></td>\r\n                    </tr>\r\n                    <tr v-for=\"(item, i) in stu\" :key=\"i\">\r\n                        <td>{{item.stuUid}}</td>\r\n                        <td>{{item.stuName}}</td>\r\n                        <td>{{claName}}</td>\r\n                        <td>{{graName}}</td>\r\n                        <td>{{item.stuLevel|lvTrans}}</td>\r\n                        <td>\r\n                            <button @click.prevent=\"changeId(item.stuUid)\" class=\"btn btn-warning\" data-toggle=\"modal\" data-target=\"#kickStu\">踢出小组</button>&nbsp;\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <div v-if=\"stu\"  class=\"btn-group btnCount\" role=\"group\">\r\n                <button v-if=\"pno-1>0\" @click.prevent=\"LoadGroup(pno-1)\" type=\"button\" class=\"btn btn-info\">上一页</button>\r\n                <button v-if=\"pno-2>0\" @click.prevent=\"LoadGroup(pno-2)\" type=\"button\" class=\"btn btn-info\">{{pno-2}}</button>\r\n                <button v-if=\"pno-1>0\" @click.prevent=\"LoadGroup(pno-1)\" type=\"button\" class=\"btn btn-info\">{{pno-1}}</button>\r\n                <button type=\"button\"  @click.prevent=\"LoadGroup(pno)\" class=\"btn btn-info active\">{{pno}}</button>\r\n                <button v-if=\"pno+1<=count\" @click.prevent=\"LoadGroup(pno+1)\" type=\"button\" class=\"btn btn-info\">{{pno+1}}</button>\r\n                <button v-if=\"pno+2<=count\" @click.prevent=\"LoadGroup(pno+2)\" type=\"button\" class=\"btn btn-info\">{{pno+2}}</button>\r\n                <button v-if=\"pno+1<=count\" @click.prevent=\"LoadGroup(pno+1)\" type=\"button\" class=\"btn btn-info\">下一页</button>\r\n            </div>\r\n           <!-- 踢出成员模态框 -->\r\n            <div v-if=\"stu\" class=\"modal fade\" id=\"kickStu\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\">\r\n               <div class=\"modal-dialog\" role=\"document\">\r\n                   <div class=\"modal-content\">\r\n                       <div class=\"modal-header\">\r\n                         <h3 class=\"modal-title\" id=\"myModalLabel\">警告</h3>\r\n                        </div>\r\n                        <div class=\"modal-body\">\r\n                            <h3>确定要将编号为\"{{stu[index].stuUid}}\"的\"{{stu[index].stuName}}\"学员踢出本小组么？</h3>\r\n                        </div>\r\n                        <div class=\"modal-footer\">\r\n                            <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">关闭</button>\r\n                            <button type=\"button\" @click.prevent=\"kickOutGroup\" class=\"btn btn-danger\">确定踢出</button>\r\n                        </div>\r\n                   </div>\r\n               </div>\r\n            </div>\r\n            <!-- 删除小组模态框 -->\r\n            <div v-if=\"stu\"  class=\"modal fade\" id=\"deleGroup\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\">\r\n               <div class=\"modal-dialog\" role=\"document\">\r\n                   <div class=\"modal-content\">\r\n                       <div class=\"modal-header\">\r\n                         <h3 class=\"modal-title\" id=\"myModalLabel\">警告</h3>\r\n                        </div>\r\n                        <div class=\"modal-body\">\r\n                            <h3>确定要删除本小组么？</h3>\r\n                        </div>\r\n                        <div class=\"modal-footer\">\r\n                            <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">关闭</button>\r\n                            <button type=\"button\" @click.prevent=\"deleGroup()\" class=\"btn btn-danger\">确定删除</button>\r\n                        </div>\r\n                   </div>\r\n               </div>\r\n            </div>\r\n            <!-- 查看小组密匙模态框 -->\r\n            <div v-if=\"stu\" class=\"modal fade\" id=\"seeGrouppwd\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\">\r\n               <div class=\"modal-dialog\" role=\"document\">\r\n                   <div class=\"modal-content\">\r\n                       <div class=\"modal-header\">\r\n                         <h3 class=\"modal-title\" id=\"myModalLabel\">查看密匙</h3>\r\n                        </div>\r\n                        <div class=\"modal-body\">\r\n                            <h3>{{gropName}}</h3>\r\n                            <hr>\r\n                            <p>密码：<input disabled=\"disabled\" type=\"text\" :value=\"gropkey\"></p>\r\n                        </div>\r\n                        <div class=\"modal-footer\">\r\n                            <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">关闭</button>\r\n                        </div>\r\n                   </div>\r\n               </div>\r\n            </div>\r\n       \r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import \"../assets/css/AdminGroup.css\"\r\n    import \"../assets/css/bootstrap.css\"\r\n    import \"../apiFilter/myFilter.js\"\r\n\r\n    export default {\r\n        data(){\r\n            return{\r\n                gropkey:null,\r\n                gropName:null,\r\n                graName:null,\r\n                claName:null,\r\n                group:null,\r\n                cName:null,\r\n                index:0,\r\n                pageCount:10,//数据大小\r\n                pno:null,//数据页码\r\n                count:null,//总页数\r\n                stu:null\r\n             }\r\n        },\r\n        methods:{\r\n            changeId(i){\r\n                this.index = i;\r\n            },\r\n            kickOutGroup(){\r\n                let uid = this.index;\r\n                let gid = $(\"#stuGroup option:selected\").data(\"gid\");\r\n                let arr={\r\n                    gid,\r\n                    uid,\r\n                    how:\"kickOutGroup\",\r\n                     do:\"UpdateStudent\",\r\n                }\r\n                console.log(arr);\r\n                let url = \"http://176.128.18.86/SchoolOnline/\";\r\n                let urlback = \"Php/admin.php\";\r\n                $.ajax({\r\n                    type: \"post\",\r\n                    url: url+urlback,\r\n                    data: arr,\r\n                    dataType: \"json\",\r\n                    // async:false\r\n                }).then(result=>{\r\n                    // console.log(result);\r\n                    if(result[\"talk\"]==\"Ok\"){\r\n                        alert(\"已踢出该学生\");\r\n                        $('#kickStu').modal('hide');\r\n                        window.location.reload();\r\n                    }   \r\n                    else{\r\n                        alert(\"该学生已不在本小组\");\r\n                    }\r\n                })\r\n            },\r\n            deleGroup(){\r\n                let gid = $(\"#stuGroup option:selected\").data(\"gid\");\r\n                console.log(gid);\r\n                let url = \"http://176.128.18.86/SchoolOnline/\";\r\n                let urlback = \"Php/admin.php\";\r\n                let arr={\r\n                    gid,\r\n                    how:\"deleteGroup\",\r\n                    do:\"UpdateStudent\"\r\n                }\r\n                $.ajax({\r\n                    type: \"post\",\r\n                    url: url+urlback,\r\n                    data: arr,\r\n                    dataType: \"json\",\r\n                    // async:false\r\n                }).then(result=>{\r\n                    // console.log(result);\r\n                    if(result[\"talk\"]==\"Ok\"){\r\n                        alert(\"已成功删除本小组\");\r\n                        $('#deleGroup').modal('hide');\r\n                        window.location.reload();\r\n                    }   \r\n                    else{\r\n                        alert(\"不存在小组\");\r\n                    }\r\n                })\r\n            },\r\n            CheckGroupPwd(){\r\n                let gid = $(\"#stuGroup option:selected\").data(\"gid\");\r\n                console.log(gid);\r\n                let url = \"http://176.128.18.86/SchoolOnline/\";\r\n                let urlback = \"Php/admin.php\";\r\n                let arr={\r\n                    gid,\r\n                    do:\"ShowGroupKey\"\r\n                }\r\n                $.ajax({\r\n                    type: \"post\",\r\n                    url: url+urlback,\r\n                    data: arr,\r\n                    dataType: \"json\",\r\n                    // async:false\r\n                }).then(result=>{\r\n                    console.log(result);\r\n                    this.gropkey = result[\"group\"][\"groupkey\"];\r\n                    console.log(this.gropkey)\r\n                    this.gropName = result[\"group\"][\"name\"];\r\n                    console.log(this.gropName)\r\n\r\n                })\r\n            },\r\n            groupChange(){\r\n                let claName =\"\"\r\n                if($(\"#stuClass option:selected\").length>0){\r\n                    claName = $(\"#stuClass option:selected\")[0].value;\r\n                }\r\n                let cid = sessionStorage.getItem('cid');\r\n                let uid = sessionStorage.getItem('uid');\r\n                let level = sessionStorage.getItem('lve');\r\n                let pageCount = this.pageCount;      \r\n                let arr = {\r\n                    showGroup:\"Y\",\r\n                    updateGroup:\"Y\",\r\n                    claName,\r\n                    uid,\r\n                    level,\r\n                    cid,\r\n                    pageCount,\r\n                    do:\"ShowStudent\"\r\n                }\r\n                console.log(\"我发送：\")\r\n                console.log(arr);\r\n                let url = \"http://176.128.18.86/SchoolOnline/\";\r\n                let urlback = \"Php/admin.php\";\r\n                $.ajax({\r\n                    type: \"post\",\r\n                    url: url+urlback,\r\n                    data: arr,\r\n                    dataType: \"json\",\r\n                    // async:false\r\n                }).then((result) => {\r\n                    console.log(\"我接收：\")\r\n                    console.log(result);\r\n                    if(result[\"talk\"]==\"NotGroup\"){\r\n                        alert(\"没有相关数据\");\r\n                          this.group = \"\";\r\n                    }\r\n                    else{\r\n                        this.group = result[\"group\"];\r\n                        // console.log(this.count);\r\n                    }\r\n                });\r\n            },\r\n            LoadGroup(pno){\r\n                let claName =\"\"\r\n                 if($(\"#stuClass option:selected\").length>0){\r\n                    claName = $(\"#stuClass option:selected\")[0].value;\r\n                }\r\n                let stuGroup =\"\"\r\n                if($(\"#stuGroup option:selected\").length>0){\r\n                    stuGroup = $(\"#stuGroup option:selected\")[0].value;\r\n                }\r\n                let cid = sessionStorage.getItem('cid');\r\n                let uid = sessionStorage.getItem('uid');\r\n                let level = sessionStorage.getItem('lve');\r\n                let pageCount = this.pageCount;      \r\n                let arr = {\r\n                    showGroup:\"Y\",\r\n                    claName,\r\n                    stuGroup,\r\n                    uid,\r\n                    level,\r\n                    cid,\r\n                    pageCount,\r\n                    pno,\r\n                    do:\"ShowStudent\"\r\n                }\r\n                console.log(\"我发送：\")\r\n                console.log(arr);\r\n                let url = \"http://176.128.18.86/SchoolOnline/\";\r\n                let urlback = \"Php/admin.php\";\r\n                $.ajax({\r\n                    type: \"post\",\r\n                    url: url+urlback,\r\n                    data: arr,\r\n                    dataType: \"json\",\r\n                    async:false\r\n                }).then((result) => {\r\n                    console.log(\"我接收：\")\r\n                    console.log(result);\r\n                    if(result[\"talk\"]==\"NotGroup\"){\r\n                        alert(\"没有相关数据\");\r\n                    }\r\n                    else{\r\n                        this.stu = result[\"student\"];\r\n                        this.count = Math.ceil(result[\"howNum\"]);\r\n                        console.log(this.count);\r\n                        this.pno = parseInt(result[\"pno\"]);\r\n                        console.log(this.pno);\r\n                        this.cName = result[\"class\"];\r\n                        this.group = result[\"group\"];\r\n                        this.claName = result[\"classOne\"];\r\n                        this.graName = result[\"groupOne\"];\r\n                        // console.log(this.count);\r\n                    }\r\n                }); \r\n            }\r\n        },\r\n        beforeMount() {\r\n            this.LoadGroup(1); \r\n        }     \r\n    }\r\n</script>"],"sourceRoot":"src\\views"}]}