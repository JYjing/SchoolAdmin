{"remainingRequest":"C:\\xampp\\htdocs\\SchoolAdmin\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\SchoolAdmin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\SchoolAdmin\\src\\components\\NavTop.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\SchoolAdmin\\src\\components\\NavTop.vue","mtime":1535027657936},{"path":"C:\\xampp\\htdocs\\SchoolAdmin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1532399270981},{"path":"C:\\xampp\\htdocs\\SchoolAdmin\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"C:\\xampp\\htdocs\\SchoolAdmin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport \"../assets/css/bootstrap.css\";\nimport '../assets/js/bootstrap.js';\nimport \"../assets/js/jquery-1.11.3.js\";\nimport \"../assets/js/jquery-3.2.1.js\";\nimport '../assets/css/NavTop.css';\nexport default {\n  data: function data() {\n    return {};\n  },\n  methods: {\n    updatePwd: function updatePwd() {\n      var _this = this;\n\n      var oldPassword = $(\"input[name='oldPossWord']\")[0].value;\n      var newPassword = $(\"input[name='newPossWord1']\")[0].value;\n      var newPassword2 = $(\"input[name='newPossWord2']\")[0].value;\n      var uid = sessionStorage.getItem('uid');\n\n      if (newPassword == newPassword2) {\n        var url = \"http://176.128.18.86/SchoolOnline/\";\n        var urlback = \"Php/admin.php\";\n        var arr = {\n          oldPassword: oldPassword,\n          newPassword: newPassword,\n          uid: uid,\n          do: \"UpdatePassword\"\n        };\n        console.log(arr);\n        $.ajax({\n          type: \"post\",\n          url: url + urlback,\n          data: arr,\n          dataType: \"json\"\n        }).then(function (result) {\n          console.log(result);\n\n          if (result['talk'] == \"NotOk1\") {\n            alert(\"旧密码错误,请重新输入\");\n          } else if (result['talk'] == \"NotOk2\") {\n            alert(\"网络错误\");\n          } else {\n            alert(\"修改密码成功\");\n            $('#revisePwd').modal('hide');\n            sessionStorage.clear();\n\n            _this.$router.push(\"/login\");\n          }\n        });\n      } else {\n        alert(\"新密码输入不一致，请重新输入\");\n      }\n    },\n    exits: function exits() {\n      sessionStorage.clear();\n      this.$router.push(\"/login\");\n    }\n  }\n};",{"version":3,"sources":["NavTop.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA,OAAA,6BAAA;AACA,OAAA,2BAAA;AACA,OAAA,+BAAA;AACA,OAAA,8BAAA;AACA,OAAA,0BAAA;AAEA,eAAA;AACA,MADA,kBACA;AACA,WAAA,EAAA;AAGA,GALA;AAMA,WAAA;AACA,aADA,uBACA;AAAA;;AACA,UAAA,cAAA,EAAA,2BAAA,EAAA,CAAA,EAAA,KAAA;AACA,UAAA,cAAA,EAAA,4BAAA,EAAA,CAAA,EAAA,KAAA;AACA,UAAA,eAAA,EAAA,4BAAA,EAAA,CAAA,EAAA,KAAA;AACA,UAAA,MAAA,eAAA,OAAA,CAAA,KAAA,CAAA;;AAEA,UAAA,eAAA,YAAA,EAAA;AACA,YAAA,MAAA,oCAAA;AACA,YAAA,UAAA,eAAA;AACA,YAAA,MAAA;AACA,kCADA;AAEA,kCAFA;AAGA,kBAHA;AAIA,cAAA;AAJA,SAAA;AAMA,gBAAA,GAAA,CAAA,GAAA;AACA,UAAA,IAAA,CAAA;AACA,gBAAA,MADA;AAEA,eAAA,MAAA,OAFA;AAGA,gBAAA,GAHA;AAIA,oBAAA;AAJA,SAAA,EAKA,IALA,CAKA,UAAA,MAAA,EAAA;AACA,kBAAA,GAAA,CAAA,MAAA;;AACA,cAAA,OAAA,MAAA,KAAA,QAAA,EAAA;AACA,kBAAA,aAAA;AACA,WAFA,MAGA,IAAA,OAAA,MAAA,KAAA,QAAA,EAAA;AACA,kBAAA,MAAA;AACA,WAFA,MAGA;AACA,kBAAA,QAAA;AACA,cAAA,YAAA,EAAA,KAAA,CAAA,MAAA;AACA,2BAAA,KAAA;;AACA,kBAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA;AACA,SAnBA;AAsBA,OAhCA,MAiCA;AACA,cAAA,gBAAA;AACA;AACA,KA3CA;AA4CA,SA5CA,mBA4CA;AACA,qBAAA,KAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA;AA/CA;AANA,CAAA","sourcesContent":["<template>\r\n    <div class=\"navi-top\">\r\n        <div class=\"nav-flex\">\r\n            <span class=\"glyphicon glyphicon-user\" aria-hidden=\"true\"></span>\r\n            <ul id=\"n-top\">\r\n                <li class=\"dropdown\">\r\n                    <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">超级管理员 <span class=\"caret\"></span></a>\r\n                    <ul class=\"dropdown-menu\">\r\n                        <li><a href=\"#\" data-toggle=\"modal\" data-target=\"#revisePwd\">修改密码</a></li>\r\n                        <li><a href=\"#\">通知</a></li>\r\n                        <li><router-link to=\"/admstudent\">学生管理</router-link></li>\r\n                        <li role=\"separator\" class=\"divider\"></li>\r\n                        <li><a href=\"#\">问题反馈</a></li>\r\n                        <li role=\"separator\" class=\"divider\"></li>\r\n                        <li @click.prevent=\"exits\"><a href=\"#\">退出登录</a></li>\r\n                    </ul>\r\n                </li>\r\n            </ul>    \r\n            <span class=\"glyphicon glyphicon-bell display-n\" aria-hidden=\"true\"></span>\r\n            <span class=\"nav-data display-n\">2018/7/25</span>\r\n          <span @click.prevent=\"exits\" class=\"glyphicon glyphicon-off\" aria-hidden=\"true\"></span>\r\n        </div>\r\n        <!-- 修改密码 -->\r\n        <div class=\"modal fade\" id=\"revisePwd\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\">\r\n               <div class=\"modal-dialog\" role=\"document\">\r\n                   <div class=\"modal-content\">\r\n                        <div class=\"modal-body\">\r\n                            <h3>修改密码</h3>\r\n                            <hr>\r\n                            <p>旧密码：<input type=\"text\" name=\"oldPossWord\" ></p>\r\n                            <p>新密码：<input type=\"text\" name=\"newPossWord1\" ></p>\r\n                            <p>再次确认密码：<input type=\"text\" name=\"newPossWord2\"></p>\r\n                        </div>\r\n                        <div class=\"modal-footer\">\r\n                            <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">关闭</button>\r\n                            <button class=\"btn btn-info\" @click.prevent=\"updatePwd\">确定修改</button>\r\n                        </div>\r\n                   </div>\r\n               </div>\r\n           </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import \"../assets/css/bootstrap.css\"\r\n    import '../assets/js/bootstrap.js'\r\n    import \"../assets/js/jquery-1.11.3.js\"\r\n    import \"../assets/js/jquery-3.2.1.js\"\r\n    import '../assets/css/NavTop.css'\r\n\r\n    export default {\r\n        data(){\r\n            return{\r\n                \r\n            }\r\n        },\r\n        methods:{\r\n            updatePwd(){\r\n                let oldPassword = $(\"input[name='oldPossWord']\")[0].value;\r\n                let newPassword = $(\"input[name='newPossWord1']\")[0].value;\r\n                let newPassword2 = $(\"input[name='newPossWord2']\")[0].value;\r\n                let uid = sessionStorage.getItem('uid');\r\n                \r\n                if(newPassword==newPassword2){\r\n                    let url = \"http://176.128.18.86/SchoolOnline/\";\r\n                    let urlback = \"Php/admin.php\";\r\n                    let arr = {\r\n                        oldPassword,\r\n                        newPassword,\r\n                        uid,\r\n                        do:\"UpdatePassword\"\r\n                    }\r\n                    console.log(arr)\r\n                    $.ajax({\r\n                        type: \"post\",\r\n                        url: url+urlback,\r\n                        data: arr,\r\n                        dataType: \"json\"\r\n                    }).then((result) => {\r\n                        console.log(result)\r\n                        if(result['talk']==\"NotOk1\"){\r\n                            alert(\"旧密码错误,请重新输入\");\r\n                        }\r\n                        else if(result['talk']==\"NotOk2\"){\r\n                            alert(\"网络错误\");\r\n                        }\r\n                        else{\r\n                            alert(\"修改密码成功\");\r\n                            $('#revisePwd').modal('hide')\r\n                            sessionStorage.clear();\r\n                            this.$router.push(\"/login\");\r\n                        }\r\n                    });\r\n\r\n\r\n                }\r\n                else{\r\n                    alert(\"新密码输入不一致，请重新输入\");\r\n                }\r\n            },\r\n            exits(){\r\n                sessionStorage.clear();\r\n                this.$router.push(\"/login\");\r\n            }\r\n        }\r\n    }\r\n</script>"],"sourceRoot":"src\\components"}]}