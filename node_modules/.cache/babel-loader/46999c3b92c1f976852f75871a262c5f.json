{"remainingRequest":"C:\\xampp\\htdocs\\SchoolAdmin\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\SchoolAdmin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\SchoolAdmin\\src\\views\\AdminStudent.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\xampp\\htdocs\\SchoolAdmin\\src\\views\\AdminStudent.vue","mtime":1533813484941},{"path":"C:\\xampp\\htdocs\\SchoolAdmin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1532399270981},{"path":"C:\\xampp\\htdocs\\SchoolAdmin\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"C:\\xampp\\htdocs\\SchoolAdmin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport \"../assets/css/AdminStudent.css\";\nimport \"../assets/css/bootstrap.css\";\nimport \"../apiFilter/myFilter.js\";\nexport default {\n  data: function data() {\n    return {\n      claName: null,\n      cName: null,\n      index: 0,\n      pageCount: 10,\n      //数据大小\n      pno: null,\n      //数据页码\n      count: null,\n      //总页数\n      stu: null\n    };\n  },\n  methods: {\n    ChangeIndex: function ChangeIndex(i) {\n      this.index = i;\n    },\n    focusColor: function focusColor(e) {\n      $(e.target).css(\"background-color\", \"#82929d\");\n      $(e.target).css(\"color\", \"#fff\");\n    },\n    blurColor: function blurColor(e) {\n      $(e.target).css(\"background-color\", \"#fff\");\n      $(e.target).css(\"color\", \"#000\");\n    },\n    defaultFocus: function defaultFocus() {\n      $(\".login-box>input[name='username']\").focus();\n    },\n    // Onloading(pno){\n    //     let uid = sessionStorage.getItem('uid');\n    //     let cid = sessionStorage.getItem('cid');\n    //     let pageCount = this.pageCount;\n    //         let arr = {\n    //             pageCount,\n    //             pno,\n    //             uid,\n    //             cid,\n    //             do:\"ShowStudent\"\n    //         }\n    //         console.log(arr);\n    //         let url = \"http://176.128.18.86/SchoolOnline/\";\n    //         let urlback = \"Php/admin.php\";\n    //         $.ajax({\n    //             type: \"post\",\n    //             url: url+urlback,\n    //             data: arr,\n    //             dataType: \"json\",\n    //             async: false\n    //         }).then((result) => {\n    //             console.log(result);\n    //             this.stu = result[\"student\"];\n    //             this.count = Math.ceil(result[\"howNum\"]);\n    //             this.pno = parseInt(result[\"pno\"]);\n    //             this.cName = result[\"class\"];\n    //             console.log( result[\"class\"]);\n    //             console.log(this.count);\n    //         }); \n    // },\n    FindStudent: function FindStudent(pno) {\n      var _this = this;\n\n      var stuUid = \"\";\n\n      if ($(\"input[name='stuUid']\").length > 0) {\n        stuUid = $(\"input[name='stuUid']\")[0].value;\n      }\n\n      var stuName = \"\";\n\n      if ($(\"input[name='stuName']\").length > 0) {\n        stuName = $(\"input[name='stuName']\")[0].value;\n      }\n\n      var claName = \"\";\n\n      if ($(\"select[name='claName'] option:selected\").length > 0) {\n        claName = $(\"select[name='claName'] option:selected\")[0].value;\n      }\n\n      var stuLevel = \"\";\n\n      if ($(\"input[name='stuLevel']\").length > 0) {\n        if ($(\"input[name='stuLevel']\")[0].value == \"学生\") {\n          stuLevel = 1;\n        } else if ($(\"input[name='stuLevel']\")[0].value == \"学委\") {\n          stuLevel = 3;\n        } else if ($(\"input[name='stuLevel']\")[0].value == \"教师\") {\n          stuLevel = 5;\n        } else if ($(\"input[name='stuLevel']\")[0].value == \"\") {\n          stuLevel = \"\";\n        } else {\n          alert(\"输入错误\");\n          return;\n        }\n      }\n\n      var cid = sessionStorage.getItem('cid');\n      var uid = sessionStorage.getItem('uid');\n      var level = sessionStorage.getItem('lve');\n      var pageCount = this.pageCount;\n      var arr = {\n        uid: uid,\n        level: level,\n        cid: cid,\n        stuUid: stuUid,\n        claName: claName,\n        stuName: stuName,\n        stuLevel: stuLevel,\n        pageCount: pageCount,\n        pno: pno,\n        do: \"ShowStudent\"\n      };\n      console.log(\"我发送：\");\n      console.log(arr);\n      var url = \"http://176.128.18.86/SchoolOnline/\";\n      var urlback = \"Php/admin.php\";\n      $.ajax({\n        type: \"post\",\n        url: url + urlback,\n        data: arr,\n        dataType: \"json\",\n        async: false\n      }).then(function (result) {\n        console.log(\"我接收：\");\n        console.log(result);\n\n        if (result[\"talk\"] == \"NotHave\") {\n          alert(\"没有相关数据\");\n        } else {\n          _this.stu = result[\"student\"];\n          _this.count = Math.ceil(result[\"howNum\"]);\n          console.log(_this.count);\n          _this.pno = parseInt(result[\"pno\"]);\n          console.log(_this.pno);\n          _this.cName = result[\"class\"];\n          _this.claName = result[\"classOne\"]; // console.log(this.count);\n        }\n      });\n    },\n    kickStudent: function kickStudent(uid) {\n      var _this2 = this;\n\n      console.log(uid);\n      console.log(document.querySelector(\"button[data-dismiss='modal']\"));\n      var arr = {\n        uid: uid,\n        how: \"kickOut\",\n        do: \"UpdateStudent\"\n      };\n      console.log(arr);\n      var url = \"http://176.128.18.86/SchoolOnline/\";\n      var urlback = \"Php/admin.php\";\n      $.ajax({\n        type: \"post\",\n        url: url + urlback,\n        data: arr,\n        dataType: \"json\",\n        async: false\n      }).then(function (result) {\n        console.log(\"我接收：\");\n        console.log(result);\n\n        if (result[\"talk\"] == \"Ok\") {\n          alert(\"已踢出此班级！\"); // $(\"button[data-dismiss='modal']\")[0].click();\n\n          $('#myModal1').modal('hide');\n\n          _this2.FindStudent(1);\n        }\n      });\n    },\n    UpStudent: function UpStudent(uid) {\n      var _this3 = this;\n\n      console.log(uid);\n      console.log(document.querySelector(\"button[data-dismiss='modal']\"));\n      var arr = {\n        uid: uid,\n        how: \"upgrade\",\n        do: \"UpdateStudent\"\n      };\n      console.log(arr);\n      var url = \"http://176.128.18.86/SchoolOnline/\";\n      var urlback = \"Php/admin.php\";\n      $.ajax({\n        type: \"post\",\n        url: url + urlback,\n        data: arr,\n        dataType: \"json\",\n        async: false\n      }).then(function (result) {\n        console.log(\"我接收：\");\n        console.log(result);\n\n        if (result[\"talk\"] == \"Ok\") {\n          alert(\"已提升为学委！\"); // $(\"button[data-dismiss='modal']\")[0].click();\n\n          $('#myModal2').modal('hide');\n\n          _this3.FindStudent(1);\n        } else {\n          alert(\"此学生已是学委，无法提升\");\n        }\n      });\n    },\n    DownStudent: function DownStudent(uid) {\n      var _this4 = this;\n\n      console.log(uid);\n      console.log(document.querySelector(\"button[data-dismiss='modal']\"));\n      var arr = {\n        uid: uid,\n        how: \"downgrade\",\n        do: \"UpdateStudent\"\n      };\n      console.log(arr);\n      var url = \"http://176.128.18.86/SchoolOnline/\";\n      var urlback = \"Php/admin.php\";\n      $.ajax({\n        type: \"post\",\n        url: url + urlback,\n        data: arr,\n        dataType: \"json\",\n        async: false\n      }).then(function (result) {\n        console.log(\"我接收：\");\n        console.log(result);\n\n        if (result[\"talk\"] == \"Ok\") {\n          alert(\"已撤销学委！\"); // $(\"button[data-dismiss='modal']\")[0].click();\n\n          $('#myModal3').modal('hide');\n\n          _this4.FindStudent(1);\n        } else {\n          alert(\"此学生不是学委,无法撤销\");\n        }\n      });\n    }\n  },\n  beforeMount: function beforeMount() {\n    this.FindStudent(1);\n  }\n};",{"version":3,"sources":["AdminStudent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+HA,OAAA,gCAAA;AACA,OAAA,6BAAA;AACA,OAAA,0BAAA;AAEA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,eAAA,IADA;AAEA,aAAA,IAFA;AAGA,aAAA,CAHA;AAIA,iBAAA,EAJA;AAIA;AACA,WAAA,IALA;AAKA;AACA,aAAA,IANA;AAMA;AACA,WAAA;AAPA,KAAA;AASA,GAXA;AAYA,WAAA;AACA,eADA,uBACA,CADA,EACA;AACA,WAAA,KAAA,GAAA,CAAA;AACA,KAHA;AAIA,cAJA,sBAIA,CAJA,EAIA;AACA,QAAA,EAAA,MAAA,EAAA,GAAA,CAAA,kBAAA,EAAA,SAAA;AACA,QAAA,EAAA,MAAA,EAAA,GAAA,CAAA,OAAA,EAAA,MAAA;AACA,KAPA;AAQA,aARA,qBAQA,CARA,EAQA;AACA,QAAA,EAAA,MAAA,EAAA,GAAA,CAAA,kBAAA,EAAA,MAAA;AACA,QAAA,EAAA,MAAA,EAAA,GAAA,CAAA,OAAA,EAAA,MAAA;AACA,KAXA;AAYA,gBAZA,0BAYA;AACA,QAAA,mCAAA,EAAA,KAAA;AACA,KAdA;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eA9CA,uBA8CA,GA9CA,EA8CA;AAAA;;AACA,UAAA,SAAA,EAAA;;AACA,UAAA,EAAA,sBAAA,EAAA,MAAA,GAAA,CAAA,EAAA;AACA,iBAAA,EAAA,sBAAA,EAAA,CAAA,EAAA,KAAA;AACA;;AACA,UAAA,UAAA,EAAA;;AACA,UAAA,EAAA,uBAAA,EAAA,MAAA,GAAA,CAAA,EAAA;AACA,kBAAA,EAAA,uBAAA,EAAA,CAAA,EAAA,KAAA;AACA;;AACA,UAAA,UAAA,EAAA;;AACA,UAAA,EAAA,wCAAA,EAAA,MAAA,GAAA,CAAA,EAAA;AACA,kBAAA,EAAA,wCAAA,EAAA,CAAA,EAAA,KAAA;AACA;;AACA,UAAA,WAAA,EAAA;;AACA,UAAA,EAAA,wBAAA,EAAA,MAAA,GAAA,CAAA,EAAA;AACA,YAAA,EAAA,wBAAA,EAAA,CAAA,EAAA,KAAA,IAAA,IAAA,EAAA;AACA,qBAAA,CAAA;AACA,SAFA,MAGA,IAAA,EAAA,wBAAA,EAAA,CAAA,EAAA,KAAA,IAAA,IAAA,EAAA;AACA,qBAAA,CAAA;AACA,SAFA,MAGA,IAAA,EAAA,wBAAA,EAAA,CAAA,EAAA,KAAA,IAAA,IAAA,EAAA;AACA,qBAAA,CAAA;AACA,SAFA,MAGA,IAAA,EAAA,wBAAA,EAAA,CAAA,EAAA,KAAA,IAAA,EAAA,EAAA;AACA,qBAAA,EAAA;AACA,SAFA,MAGA;AACA,gBAAA,MAAA;AACA;AACA;AACA;;AACA,UAAA,MAAA,eAAA,OAAA,CAAA,KAAA,CAAA;AACA,UAAA,MAAA,eAAA,OAAA,CAAA,KAAA,CAAA;AACA,UAAA,QAAA,eAAA,OAAA,CAAA,KAAA,CAAA;AACA,UAAA,YAAA,KAAA,SAAA;AACA,UAAA,MAAA;AACA,gBADA;AAEA,oBAFA;AAGA,gBAHA;AAIA,sBAJA;AAKA,wBALA;AAMA,wBANA;AAOA,0BAPA;AAQA,4BARA;AASA,gBATA;AAUA,YAAA;AAVA,OAAA;AAYA,cAAA,GAAA,CAAA,MAAA;AACA,cAAA,GAAA,CAAA,GAAA;AACA,UAAA,MAAA,oCAAA;AACA,UAAA,UAAA,eAAA;AACA,QAAA,IAAA,CAAA;AACA,cAAA,MADA;AAEA,aAAA,MAAA,OAFA;AAGA,cAAA,GAHA;AAIA,kBAAA,MAJA;AAKA,eAAA;AALA,OAAA,EAMA,IANA,CAMA,UAAA,MAAA,EAAA;AACA,gBAAA,GAAA,CAAA,MAAA;AACA,gBAAA,GAAA,CAAA,MAAA;;AACA,YAAA,OAAA,MAAA,KAAA,SAAA,EAAA;AACA,gBAAA,QAAA;AACA,SAFA,MAGA;AACA,gBAAA,GAAA,GAAA,OAAA,SAAA,CAAA;AACA,gBAAA,KAAA,GAAA,KAAA,IAAA,CAAA,OAAA,QAAA,CAAA,CAAA;AACA,kBAAA,GAAA,CAAA,MAAA,KAAA;AACA,gBAAA,GAAA,GAAA,SAAA,OAAA,KAAA,CAAA,CAAA;AACA,kBAAA,GAAA,CAAA,MAAA,GAAA;AACA,gBAAA,KAAA,GAAA,OAAA,OAAA,CAAA;AACA,gBAAA,OAAA,GAAA,OAAA,UAAA,CAAA,CAPA,CAQA;AACA;AACA,OAtBA;AAuBA,KAzHA;AA0HA,eA1HA,uBA0HA,GA1HA,EA0HA;AAAA;;AACA,cAAA,GAAA,CAAA,GAAA;AACA,cAAA,GAAA,CAAA,SAAA,aAAA,CAAA,8BAAA,CAAA;AACA,UAAA,MAAA;AACA,gBADA;AAEA,aAAA,SAFA;AAGA,YAAA;AAHA,OAAA;AAKA,cAAA,GAAA,CAAA,GAAA;AACA,UAAA,MAAA,oCAAA;AACA,UAAA,UAAA,eAAA;AACA,QAAA,IAAA,CAAA;AACA,cAAA,MADA;AAEA,aAAA,MAAA,OAFA;AAGA,cAAA,GAHA;AAIA,kBAAA,MAJA;AAKA,eAAA;AALA,OAAA,EAMA,IANA,CAMA,UAAA,MAAA,EAAA;AACA,gBAAA,GAAA,CAAA,MAAA;AACA,gBAAA,GAAA,CAAA,MAAA;;AACA,YAAA,OAAA,MAAA,KAAA,IAAA,EAAA;AACA,gBAAA,SAAA,EADA,CAEA;;AACA,YAAA,WAAA,EAAA,KAAA,CAAA,MAAA;;AACA,iBAAA,WAAA,CAAA,CAAA;AACA;AACA,OAfA;AAgBA,KArJA;AAsJA,aAtJA,qBAsJA,GAtJA,EAsJA;AAAA;;AACA,cAAA,GAAA,CAAA,GAAA;AACA,cAAA,GAAA,CAAA,SAAA,aAAA,CAAA,8BAAA,CAAA;AACA,UAAA,MAAA;AACA,gBADA;AAEA,aAAA,SAFA;AAGA,YAAA;AAHA,OAAA;AAKA,cAAA,GAAA,CAAA,GAAA;AACA,UAAA,MAAA,oCAAA;AACA,UAAA,UAAA,eAAA;AACA,QAAA,IAAA,CAAA;AACA,cAAA,MADA;AAEA,aAAA,MAAA,OAFA;AAGA,cAAA,GAHA;AAIA,kBAAA,MAJA;AAKA,eAAA;AALA,OAAA,EAMA,IANA,CAMA,UAAA,MAAA,EAAA;AACA,gBAAA,GAAA,CAAA,MAAA;AACA,gBAAA,GAAA,CAAA,MAAA;;AACA,YAAA,OAAA,MAAA,KAAA,IAAA,EAAA;AACA,gBAAA,SAAA,EADA,CAEA;;AACA,YAAA,WAAA,EAAA,KAAA,CAAA,MAAA;;AACA,iBAAA,WAAA,CAAA,CAAA;AACA,SALA,MAMA;AACA,gBAAA,cAAA;AACA;AACA,OAlBA;AAmBA,KApLA;AAqLA,eArLA,uBAqLA,GArLA,EAqLA;AAAA;;AACA,cAAA,GAAA,CAAA,GAAA;AACA,cAAA,GAAA,CAAA,SAAA,aAAA,CAAA,8BAAA,CAAA;AACA,UAAA,MAAA;AACA,gBADA;AAEA,aAAA,WAFA;AAGA,YAAA;AAHA,OAAA;AAKA,cAAA,GAAA,CAAA,GAAA;AACA,UAAA,MAAA,oCAAA;AACA,UAAA,UAAA,eAAA;AACA,QAAA,IAAA,CAAA;AACA,cAAA,MADA;AAEA,aAAA,MAAA,OAFA;AAGA,cAAA,GAHA;AAIA,kBAAA,MAJA;AAKA,eAAA;AALA,OAAA,EAMA,IANA,CAMA,UAAA,MAAA,EAAA;AACA,gBAAA,GAAA,CAAA,MAAA;AACA,gBAAA,GAAA,CAAA,MAAA;;AACA,YAAA,OAAA,MAAA,KAAA,IAAA,EAAA;AACA,gBAAA,QAAA,EADA,CAEA;;AACA,YAAA,WAAA,EAAA,KAAA,CAAA,MAAA;;AACA,iBAAA,WAAA,CAAA,CAAA;AACA,SALA,MAMA;AACA,gBAAA,cAAA;AACA;AACA,OAlBA;AAmBA;AAnNA,GAZA;AAkOA,aAlOA,yBAkOA;AACA,SAAA,WAAA,CAAA,CAAA;AACA;AApOA,CAAA","sourcesContent":["<template>\r\n    <div class=\"kick-main\">\r\n            \r\n           <div class=\"kick-search\">\r\n                <div class=\"kick-input-search\">\r\n                        编号<input name=\"stuUid\" @blur=\"blurColor\" @focus=\"focusColor\" type=\"text\">\r\n                        班级<select name=\"claName\">\r\n                                <option v-for=\"(item, index) in cName\" :key=\"index\" :value=\"item.name\">{{item.name}}</option>\r\n                            </select>\r\n                        等级<input name=\"stuLevel\" @blur=\"blurColor\" @focus=\"focusColor\" type=\"text\">\r\n                        姓名<input name=\"stuName\" @blur=\"blurColor\" @focus=\"focusColor\" type=\"text\">\r\n                    <button @click.prevent=\"FindStudent(1)\" class=\"btn btn-info\">搜索</button>\r\n                </div>\r\n                \r\n                <div class=\"kick-table\">\r\n                 <table class=\"table\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>编号</th>\r\n                                <th>名字</th>\r\n                                <th>班级</th>\r\n                                <th>等级</th>\r\n                                <th>小组</th>\r\n                                <th>操作</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr v-show=\"!stu\">\r\n                                <td><img src=\"../assets/images/loading.gif\" alt=\"\"></td>\r\n                            </tr>\r\n                            <tr v-for=\"(item, i) in stu\" :key=\"i\">\r\n                                <td>{{item.stuUid}}</td>\r\n                                <td>{{item.stuName}}</td>\r\n                                <td>{{claName}}</td>\r\n                                <td>{{item.stuLevel|lvTrans}}</td>\r\n                                <td>{{item.groName}}</td>\r\n                                <td class=\"btnModal\">\r\n                                    <button @click.prevent=\"ChangeIndex(i)\" class=\"btn btn-danger\" data-toggle=\"modal\" data-target=\"#myModal1\">踢出</button>&nbsp;\r\n                                    <button @click.prevent=\"ChangeIndex(i)\" class=\"btn btn-success\" data-toggle=\"modal\" data-target=\"#myModal2\">提升</button>&nbsp;\r\n                                    <button @click.prevent=\"ChangeIndex(i)\" class=\"btn btn-warning\" data-toggle=\"modal\" data-target=\"#myModal3\">撤销</button>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                    <div v-show=\"stu\" class=\"btn-group btnCount\" role=\"group\">\r\n                        <button v-if=\"pno-1>0\" @click.prevent=\"FindStudent(pno-1)\" type=\"button\" class=\"btn btn-info\">上一页</button>\r\n                        <button v-if=\"pno-2>0\" @click.prevent=\"FindStudent(pno-2)\" type=\"button\" class=\"btn btn-info\">{{pno-2}}</button>\r\n                        <button v-if=\"pno-1>0\" @click.prevent=\"FindStudent(pno-1)\" type=\"button\" class=\"btn btn-info\">{{pno-1}}</button>\r\n                        <button type=\"button\"  @click.prevent=\"FindStudent(pno)\" class=\"btn btn-info active\">{{pno}}</button>\r\n                        <button v-if=\"pno+1<=count\" @click.prevent=\"FindStudent(pno+1)\" type=\"button\" class=\"btn btn-info\">{{pno+1}}</button>\r\n                        <button v-if=\"pno+2<=count\" @click.prevent=\"FindStudent(pno+2)\" type=\"button\" class=\"btn btn-info\">{{pno+2}}</button>\r\n                        <button v-if=\"pno+1<=count\" @click.prevent=\"FindStudent(pno+1)\" type=\"button\" class=\"btn btn-info\">下一页</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- 踢出模态框 -->\r\n            <div v-if=\"stu\" class=\"modal fade\" id=\"myModal1\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\">\r\n               <div class=\"modal-dialog\" role=\"document\">\r\n                   <div class=\"modal-content\">\r\n                       <div class=\"modal-header\">\r\n                         <h3 class=\"modal-title\" id=\"myModalLabel\">学员信息</h3>\r\n                        </div>\r\n                        <div class=\"modal-body\">\r\n                            <h3>{{stu[index].stuName}}</h3>\r\n                            <hr>\r\n                            <p>编号：<input disabled=\"disabled\" type=\"text\" :value=\"stu[index].stuUid\"></p>\r\n                            <p>小组：<input disabled=\"disabled\" type=\"text\" :value=\"stu[index].groName\"></p>\r\n                            <p>班级：<input disabled=\"disabled\" type=\"text\" :value=\"claName\"></p>\r\n                            <p>等级：<input disabled=\"disabled\" type=\"text\" :value=\"stu[index].stuLevel|lvTrans\"></p>\r\n                        </div>\r\n                        <div class=\"modal-footer\">\r\n                            <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">关闭</button>\r\n                            <button @click.prevent=\"kickStudent(stu[index].stuUid)\" class=\"btn btn-danger\">确定踢出</button>\r\n                        </div>\r\n                   </div>\r\n               </div>\r\n           </div>\r\n\r\n            <!-- 提升模态框 -->\r\n           <!-- <div class=\"modal fade\" id=\"myModal2\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\">\r\n               <div class=\"modal-dialog\" role=\"document\">\r\n                   <div class=\"modal-content\">\r\n                       <div class=\"modal-header\">\r\n                         <h3 class=\"modal-title\" id=\"myModalLabel\">学员信息</h3>\r\n                        </div>\r\n                        <div class=\"modal-body\">\r\n                            <h3>{{stu[index].stuName}}</h3>\r\n                            <hr>\r\n                            <p>编号：<input disabled=\"disabled\" type=\"text\" :value=\"stu[index].stuUid\"></p>\r\n                            <p>小组：<input disabled=\"disabled\" type=\"text\" :value=\"stu[index].groName\"></p>\r\n                            <p>班级：<input disabled=\"disabled\" type=\"text\" :value=\"claName\"></p>\r\n                            <p>等级：<input disabled=\"disabled\" type=\"text\" :value=\"stu[index].stuLevel|lvTrans\"></p>\r\n                        </div>\r\n                        <div class=\"modal-footer\">\r\n                            <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">关闭</button>\r\n                            <button class=\"btn btn-info\" @click.prevent=\"UpStudent(stu[index].stuUid)\">提升学委</button>\r\n                        </div>\r\n                   </div>\r\n               </div>\r\n           </div> -->\r\n\r\n            <!-- 撤销模态框 -->\r\n            <!-- <div class=\"modal fade\" id=\"myModal3\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\">\r\n               <div class=\"modal-dialog\" role=\"document\">\r\n                   <div class=\"modal-content\">\r\n                       <div class=\"modal-header\">\r\n                         <h3 class=\"modal-title\" id=\"myModalLabel\">学员信息</h3>\r\n                        </div>\r\n                        <div class=\"modal-body\">\r\n                            <h3>{{stu[index].stuName}}</h3>\r\n                            <hr>\r\n                            <p>编号：<input disabled=\"disabled\" type=\"text\" :value=\"stu[index].stuUid\"></p>\r\n                            <p>小组：<input disabled=\"disabled\" type=\"text\" :value=\"stu[index].groName\"></p>\r\n                            <p>班级：<input disabled=\"disabled\" type=\"text\" :value=\"claName\"></p>\r\n                            <p>等级：<input disabled=\"disabled\" type=\"text\" :value=\"stu[index].stuLevel|lvTrans\"></p>\r\n                        </div>\r\n                        <div class=\"modal-footer\">\r\n                            <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">关闭</button>\r\n                            <button class=\"btn btn-warning\" @click.prevent=\"DownStudent(stu[index].stuUid)\">撤销学委</button>\r\n                        </div>\r\n                   </div>\r\n               </div>\r\n           </div> -->\r\n    </div>\r\n</template>\r\n<script>\r\nimport \"../assets/css/AdminStudent.css\";\r\nimport \"../assets/css/bootstrap.css\";\r\nimport \"../apiFilter/myFilter.js\"\r\n\r\nexport default {\r\n    data(){\r\n        return{\r\n            claName:null,\r\n            cName:null, \r\n            index:0,\r\n            pageCount:10,//数据大小\r\n            pno:null,//数据页码\r\n            count:null,//总页数\r\n            stu:null\r\n        }\r\n    },\r\n    methods:{\r\n        ChangeIndex(i){\r\n            this.index = i;\r\n        },\r\n        focusColor(e) {\r\n            $(e.target).css(\"background-color\", \"#82929d\");\r\n            $(e.target).css(\"color\",\"#fff\");\r\n        },\r\n        blurColor(e) {\r\n            $(e.target).css(\"background-color\", \"#fff\");\r\n            $(e.target).css(\"color\",\"#000\");\r\n        },\r\n        defaultFocus() {\r\n            $(\".login-box>input[name='username']\").focus();\r\n        },\r\n        // Onloading(pno){\r\n        //     let uid = sessionStorage.getItem('uid');\r\n        //     let cid = sessionStorage.getItem('cid');\r\n        //     let pageCount = this.pageCount;\r\n        //         let arr = {\r\n        //             pageCount,\r\n        //             pno,\r\n        //             uid,\r\n        //             cid,\r\n        //             do:\"ShowStudent\"\r\n        //         }\r\n        //         console.log(arr);\r\n\r\n        //         let url = \"http://176.128.18.86/SchoolOnline/\";\r\n        //         let urlback = \"Php/admin.php\";\r\n        //         $.ajax({\r\n        //             type: \"post\",\r\n        //             url: url+urlback,\r\n        //             data: arr,\r\n        //             dataType: \"json\",\r\n        //             async: false\r\n        //         }).then((result) => {\r\n        //             console.log(result);\r\n        //             this.stu = result[\"student\"];\r\n        //             this.count = Math.ceil(result[\"howNum\"]);\r\n        //             this.pno = parseInt(result[\"pno\"]);\r\n        //             this.cName = result[\"class\"];\r\n        //             console.log( result[\"class\"]);\r\n        //             console.log(this.count);\r\n        //         }); \r\n        // },\r\n        FindStudent(pno){\r\n            let stuUid = \"\";\r\n            if($(\"input[name='stuUid']\").length>0){\r\n                stuUid = $(\"input[name='stuUid']\")[0].value;\r\n            }\r\n            let stuName = \"\";\r\n            if($(\"input[name='stuName']\").length>0){\r\n                stuName = $(\"input[name='stuName']\")[0].value;\r\n            }\r\n            let claName = \"\";\r\n            if($(\"select[name='claName'] option:selected\").length>0){\r\n                claName = $(\"select[name='claName'] option:selected\")[0].value;  \r\n            }\r\n            let stuLevel =\"\";\r\n            if($(\"input[name='stuLevel']\").length>0){\r\n                if($(\"input[name='stuLevel']\")[0].value==\"学生\"){\r\n                    stuLevel=1\r\n                }\r\n                else if($(\"input[name='stuLevel']\")[0].value==\"学委\"){\r\n                    stuLevel=3\r\n                }\r\n                else if($(\"input[name='stuLevel']\")[0].value==\"教师\"){\r\n                    stuLevel=5\r\n                }\r\n                else if($(\"input[name='stuLevel']\")[0].value==\"\"){\r\n                    stuLevel=\"\"\r\n                }\r\n                else{\r\n                    alert(\"输入错误\");\r\n                    return;\r\n                }\r\n            }\r\n            let cid = sessionStorage.getItem('cid');\r\n            let uid = sessionStorage.getItem('uid');\r\n            let level = sessionStorage.getItem('lve');\r\n            let pageCount = this.pageCount;      \r\n            let arr = {\r\n                uid,\r\n                level,\r\n                cid,\r\n                stuUid,\r\n                claName,\r\n                stuName,\r\n                stuLevel,\r\n                pageCount,\r\n                pno,\r\n                do:\"ShowStudent\"\r\n            }\r\n            console.log(\"我发送：\")\r\n            console.log(arr);\r\n            let url = \"http://176.128.18.86/SchoolOnline/\";\r\n            let urlback = \"Php/admin.php\";\r\n            $.ajax({\r\n                type: \"post\",\r\n                url: url+urlback,\r\n                data: arr,\r\n                dataType: \"json\",\r\n                async:false\r\n            }).then((result) => {\r\n                console.log(\"我接收：\")\r\n                console.log(result);\r\n                if(result[\"talk\"]==\"NotHave\"){\r\n                    alert(\"没有相关数据\");\r\n                }\r\n                else{\r\n                    this.stu = result[\"student\"];\r\n                    this.count = Math.ceil(result[\"howNum\"]);\r\n                    console.log(this.count);\r\n                    this.pno = parseInt(result[\"pno\"]);\r\n                    console.log(this.pno);\r\n                    this.cName = result[\"class\"];\r\n                    this.claName = result[\"classOne\"]\r\n                    // console.log(this.count);\r\n                }\r\n            }); \r\n        },\r\n        kickStudent(uid){\r\n            console.log(uid);\r\n            console.log(document.querySelector(\"button[data-dismiss='modal']\"))\r\n            let arr={\r\n                uid,\r\n                how:\"kickOut\",\r\n                do:\"UpdateStudent\"\r\n            };\r\n            console.log(arr);\r\n            let url = \"http://176.128.18.86/SchoolOnline/\";\r\n            let urlback = \"Php/admin.php\";\r\n            $.ajax({\r\n                type: \"post\",\r\n                url: url+urlback,\r\n                data: arr,\r\n                dataType: \"json\",\r\n                async:false\r\n            }).then((result) => {\r\n                console.log(\"我接收：\")\r\n                console.log(result);\r\n                if(result[\"talk\"]==\"Ok\"){\r\n                    alert(\"已踢出此班级！\")\r\n                    // $(\"button[data-dismiss='modal']\")[0].click();\r\n                    $('#myModal1').modal('hide')\r\n                    this.FindStudent(1);\r\n                }\r\n            }); \r\n        },\r\n        UpStudent(uid){\r\n            console.log(uid);\r\n            console.log(document.querySelector(\"button[data-dismiss='modal']\"))\r\n            let arr={\r\n                uid,\r\n                how:\"upgrade\",\r\n                do:\"UpdateStudent\"\r\n            };\r\n            console.log(arr);\r\n            let url = \"http://176.128.18.86/SchoolOnline/\";\r\n            let urlback = \"Php/admin.php\";\r\n            $.ajax({\r\n                type: \"post\",\r\n                url: url+urlback,\r\n                data: arr,\r\n                dataType: \"json\",\r\n                async:false\r\n            }).then((result) => {\r\n                console.log(\"我接收：\")\r\n                console.log(result);\r\n                if(result[\"talk\"]==\"Ok\"){\r\n                    alert(\"已提升为学委！\")\r\n                    // $(\"button[data-dismiss='modal']\")[0].click();\r\n                    $('#myModal2').modal('hide')\r\n                    this.FindStudent(1);\r\n                }\r\n                else{\r\n                    alert(\"此学生已是学委，无法提升\");\r\n                }\r\n            }); \r\n        },\r\n        DownStudent(uid){\r\n            console.log(uid);\r\n            console.log(document.querySelector(\"button[data-dismiss='modal']\"))\r\n            let arr={\r\n                uid,\r\n                how:\"downgrade\",\r\n                do:\"UpdateStudent\"\r\n            };\r\n            console.log(arr);\r\n            let url = \"http://176.128.18.86/SchoolOnline/\";\r\n            let urlback = \"Php/admin.php\";\r\n            $.ajax({\r\n                type: \"post\",\r\n                url: url+urlback,\r\n                data: arr,\r\n                dataType: \"json\",\r\n                async:false\r\n            }).then((result) => {\r\n                console.log(\"我接收：\")\r\n                console.log(result);\r\n                if(result[\"talk\"]==\"Ok\"){\r\n                    alert(\"已撤销学委！\")\r\n                    // $(\"button[data-dismiss='modal']\")[0].click();\r\n                    $('#myModal3').modal('hide')\r\n                    this.FindStudent(1);\r\n                }\r\n                else{\r\n                    alert(\"此学生不是学委,无法撤销\");\r\n                }\r\n            }); \r\n        }\r\n\r\n    },\r\n    beforeMount() {\r\n        this.FindStudent(1) \r\n    },\r\n};\r\n</script>"],"sourceRoot":"src\\views"}]}